using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Project
{
    class Program
    {
        static void Main(string[] args)
        {
            // Создаем товары
            var camry = new Описание_Авто("Toyota Camry 2023", 3_500_000);
            var kamaz = new Описание_Авто("КАМАЗ-65115", 6_200_000);
            var filter = new Описание_Авто("Воздушный фильтр", 2500);

            // Создаем список продаж
            var отчет = new Список_продаж();

            // Добавляем продажи
            отчет.ДобавитьПродажу(Автомобили.Легковые, new Запись_продаж(2, 15, camry));
            отчет.ДобавитьПродажу(Автомобили.Грузовые, new Запись_продаж(1, 16, kamaz));
            отчет.ДобавитьПродажу(Автомобили.Запчасти, new Запись_продаж(5, 17, filter));
            отчет.ДобавитьПродажу(Автомобили.Легковые, new Запись_продаж(1, 18, camry));

            // Выводим отчет
            Console.WriteLine("=== ОТЧЕТ О ПРОДАЖАХ ===");
            foreach (Автомобили категория in Enum.GetValues(typeof(Автомобили)))
            {
                var продажи = отчет.ПолучитьПродажи(категория);
                if (продажи.Count > 0)
                {
                    Console.WriteLine($"\nКатегория: {категория}");
                    foreach (var продажа in продажи)
                    {
                        Console.WriteLine($"- {продажа.ПолучитьТовар().ПолучитьНазвание()}, " +
                                        $"{продажа.ПолучитьКоличество()} шт., " +
                                        $"день {продажа.ПолучитьДень()}, " +
                                        $"сумма: {продажа.ПолучитьСумму():N2} руб.");
                    }
                    Console.WriteLine($"Итого по категории: {отчет.ПолучитьСуммуПоКатегории(категория):N2} руб.");
                }
            }

            Console.WriteLine("\nНажмите любую клавишу для выхода...");
            Console.ReadKey();
        }
    }
}
